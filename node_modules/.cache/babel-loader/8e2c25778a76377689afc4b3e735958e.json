{"ast":null,"code":"import _objectWithoutProperties from \"/home/sarah/Fullstack_Stuff/SeniorPhase/playingAround/d3projects/d3Project1/d3-project-one/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"xScale\", \"yScale\", \"color\", \"data\", \"isSmooth\", \"animation\"];\n\nvar _this = this,\n    _jsxFileName = \"/home/sarah/Fullstack_Stuff/SeniorPhase/playingAround/d3projects/d3Project1/d3-project-one/src/components/Line.js\";\n\nimport React, { useRef, useCallback, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport * as d3 from 'd3';\n\nvar Line = function Line(_ref) {\n  var xScale = _ref.xScale,\n      yScale = _ref.yScale,\n      color = _ref.color,\n      data = _ref.data,\n      isSmooth = _ref.isSmooth,\n      animation = _ref.animation,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  var ref = useRef(null);\n  var animateLeft = useCallback(function () {\n    var totalLength = ref.current.getTotalLength();\n    d3.select(ref.current).attr('opacity', 1).attr('stroke-dasharray', \"\".concat(totalLength, \", \").concat(totalLength)).attr('stroke-dashoffset', totalLength).transition().duration(750).ease(d3.easeLinear).attr('stroke-dashoffset', 0);\n  }, []);\n  var animateFadeIn = useCallback(function () {\n    d3.select(ref.current).transition().duration(750).ease(d3.easeLinear).attr('opacity', 1);\n  }, []);\n  var noneAnimation = useCallback(function () {\n    d3.select(ref.current).attr('opacity', 1);\n  }, []);\n  useEffect(function () {\n    switch (animation) {\n      case 'left':\n        animateLeft();\n        break;\n\n      case 'fadeIn':\n        animateFadeIn();\n        break;\n\n      case 'none':\n      default:\n        noneAnimation();\n        break;\n    }\n  }, [animateLeft, animateFadeIn, noneAnimation, animation]);\n  useEffect(function () {\n    if (animation === 'left') {\n      var totalLength = ref.current.getTotalLength();\n      d3.select(ref.current).attr('stroke-dasharray', \"\".concat(totalLength, \", \").concat(totalLength));\n    }\n  }, [xScale, yScale, animation]);\n  var line = d3.line().x(function (d) {\n    return xScale(d.date);\n  }).y(function (d) {\n    return yScale(d.value);\n  });\n  var d = line(data);\n  return /*#__PURE__*/React.createElement(\"path\", Object.assign({\n    ref: ref,\n    d: (d === null || d === void 0 ? void 0 : d.match(/NaN|undefined/)) ? '' : d,\n    stroke: color,\n    strokeWidth: 3,\n    fill: \"none\",\n    opacity: 0\n  }, props, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  }));\n};\n\nLine.propTypes = {\n  xScale: PropTypes.func.isRequired,\n  yScale: PropTypes.func.isRequired,\n  data: PropTypes.arrayOf(PropTypes.shape({\n    date: PropTypes.date,\n    value: PropTypes.number\n  })),\n  color: PropTypes.string,\n  isSmooth: PropTypes.bool,\n  animation: PropTypes.oneOf(['left', 'fadeIn', 'none'])\n};\nLine.defaultProps = {\n  data: [],\n  color: 'white',\n  isSmooth: false,\n  animation: 'left'\n};\nexport default Line;","map":{"version":3,"names":["React","useRef","useCallback","useEffect","PropTypes","d3","Line","xScale","yScale","color","data","isSmooth","animation","props","ref","animateLeft","totalLength","current","getTotalLength","select","attr","transition","duration","ease","easeLinear","animateFadeIn","noneAnimation","line","x","d","date","y","value","match","propTypes","func","isRequired","arrayOf","shape","number","string","bool","oneOf","defaultProps"],"sources":["/home/sarah/Fullstack_Stuff/SeniorPhase/playingAround/d3projects/d3Project1/d3-project-one/src/components/Line.js"],"sourcesContent":["import React, { useRef, useCallback, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport * as d3 from 'd3';\n\nconst Line =({\n    xScale,\n    yScale,\n    color,\n    data,\n    isSmooth,\n    animation,\n    ...props\n}) => {\n\n    const ref = useRef(null);\n\n    const animateLeft = useCallback(() => {\n        const totalLength = ref.current.getTotalLength();\n        d3.select(ref.current)\n        .attr('opacity', 1)\n        .attr('stroke-dasharray', `${totalLength}, ${totalLength}`)\n        .attr('stroke-dashoffset', totalLength)\n        .transition()\n        .duration(750)\n        .ease(d3.easeLinear)\n        .attr('stroke-dashoffset', 0);\n    }, []);\n\n    const animateFadeIn = useCallback(() => {\n        d3.select(ref.current)\n        .transition()\n        .duration(750)\n        .ease(d3.easeLinear)\n        .attr('opacity', 1);\n    }, []);\n\n    const noneAnimation = useCallback(() => {\n        d3.select(ref.current).attr('opacity', 1);\n    }, []);\n\n    useEffect(() => {\n        switch (animation) {\n            case 'left':\n                animateLeft();\n                break;\n            case 'fadeIn':\n                animateFadeIn();\n                break;\n            case 'none':\n                default:\n                    noneAnimation();\n                    break;\n        }\n    }, [animateLeft, animateFadeIn, noneAnimation, animation]);\n\n    useEffect(() => {\n        if (animation === 'left') {\n            const totalLength = ref.current.getTotalLength();\n            d3.select(ref.current).attr(\n                'stroke-dasharray',\n                `${totalLength}, ${totalLength}`\n            );\n        }\n    }, [xScale, yScale, animation]);\n\n    const line = d3\n        .line()\n        .x((d) => xScale(d.date))\n        .y((d) => yScale(d.value));\n\n    const d = line(data);\n\n    return (\n        <path\n            ref={ref}\n            d={d?.match(/NaN|undefined/) ? '' : d}\n            stroke={color}\n            strokeWidth={3}\n            fill='none'\n            opacity={0}\n            {...props}\n            />\n    );\n};\n\nLine.propTypes = {\n    xScale: PropTypes.func.isRequired,\n    yScale: PropTypes.func.isRequired,\n    data: PropTypes.arrayOf(\n        PropTypes.shape({\n            date: PropTypes.date,\n            value: PropTypes.number\n        })\n    ),\n    color: PropTypes.string,\n    isSmooth: PropTypes.bool,\n    animation: PropTypes.oneOf(['left', 'fadeIn', 'none'])\n};\n\nLine.defaultProps = {\n    data: [],\n    color: 'white',\n    isSmooth: false,\n    animation: 'left'\n};\n\nexport default Line;"],"mappings":"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"},"metadata":{},"sourceType":"module"}