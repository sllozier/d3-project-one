{"ast":null,"code":"import { useMemo } from 'react';\nimport * as d3 from 'd3';\n\nvar useController = function useController(_ref) {\n  var data = _ref.data,\n      width = _ref.width,\n      height = _ref.height;\n  var xMin = useMemo(function () {\n    return d3.min(data, function (_ref2) {\n      var items = _ref2.items;\n      return d3.min(items, function (_ref3) {\n        var date = _ref3.date;\n        return date;\n      });\n    });\n  }, [data]);\n  var xMax = useMemo(function () {\n    return d3.max(data, function (_ref4) {\n      var items = _ref4.items;\n      return d3.max(items, function (_ref5) {\n        var date = _ref5.date;\n        return date;\n      });\n    });\n  }, [data]);\n  var xScale = useMemo(function () {\n    return d3.scaleTime().domain([xMin, xMax]).range([0, width]);\n  }, [xMin, xMax, width]);\n  var yMin = useMemo(function () {\n    return d3.min(data, function (_ref6) {\n      var items = _ref6.items;\n      return d3.min(items, function (_ref7) {\n        var value = _ref7.value;\n        return value;\n      });\n    });\n  }, [data]);\n  var yMax = useMemo(function () {\n    return d3.max(data, function (_ref8) {\n      var items = _ref8.items;\n      return d3.max(items, function (_ref9) {\n        var value = _ref9.value;\n        return value;\n      });\n    });\n  }, [data]);\n  var yScale = useMemo(function () {\n    var indention = (yMax - yMin) * 0.5;\n    return d3.scaleLinear().domain([yMin - indention, yMax + indention]).range([height, 0]);\n  }, [height, yMin, yMax]);\n  var yScaleForAxis = useMemo(function () {\n    return d3.scaleBand().domain([yMin, yMax]).range([height, 0]);\n  }, [height, yMin, yMax]);\n\n  var yTickFormat = function yTickFormat(d) {\n    return \"\".concat(parseFloat(d) > 0 ? \"+\" : \"\").concat(d3.format(\".2%\")(d / 100));\n  };\n\n  return {\n    yTickFormat: yTickFormat,\n    xScale: xScale,\n    yScale: yScale,\n    yScaleForAxis: yScaleForAxis\n  };\n};\n\nexport default useController;","map":{"version":3,"names":["useMemo","d3","useController","data","width","height","xMin","min","items","date","xMax","max","xScale","scaleTime","domain","range","yMin","value","yMax","yScale","indention","scaleLinear","yScaleForAxis","scaleBand","yTickFormat","d","parseFloat","format"],"sources":["/home/sarah/Fullstack_Stuff/SeniorPhase/playingAround/d3projects/d3Project1/d3-project-one/src/views/MultilineChart/MultilineChart.controller.js"],"sourcesContent":["import { useMemo } from 'react';\nimport * as d3 from 'd3';\n\nconst useController = ( { data, width, height }) => {\n    const xMin = useMemo(\n        () => d3.min(data, ({ items }) => d3.min(items, ({ date }) => date)),\n        [data]\n    );\n\n    const xMax = useMemo(\n        () => d3.max(data, ({ items }) => d3.max(items, ({ date }) => date)),\n        [data]\n    );\n\n    const xScale = useMemo(\n        () => d3.scaleTime().domain([xMin, xMax]).range([0, width]),\n        [xMin, xMax, width]\n    );\n\n    const yMin = useMemo(\n        () => d3.min(data, ({ items }) => d3.min(items,({ value }) => value)),\n        [data]\n    );\n\n    const yMax = useMemo(\n        () => d3.max(data, ({ items }) => d3.max(items, ({ value }) => value)),\n        [data]\n    );\n\n    const yScale = useMemo(() => {\n        const indention = (yMax - yMin) * 0.5;\n        return d3\n        .scaleLinear()\n        .domain([yMin - indention, yMax + indention])\n        .range([height, 0]);\n    }, [height, yMin, yMax]);\n\n    const yScaleForAxis = useMemo(\n        () => d3.scaleBand().domain([yMin, yMax]).range([height, 0]),\n        [height, yMin, yMax]\n    );\n\n    const yTickFormat = (d) =>\n    `${parseFloat(d) > 0 ? \"+\" : \"\"}${d3.format(\".2%\")(d / 100)}`;\n\n    return {\n        yTickFormat,\n        xScale,\n        yScale,\n        yScaleForAxis\n    };\n\n};\n\nexport default useController;"],"mappings":"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"},"metadata":{},"sourceType":"module"}